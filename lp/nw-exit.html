<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5SF9L94K');</script>
  <!-- End Google Tag Manager -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Before you go, check out these financial tools | SaveBest.org</title>
  <style>
    body { 
      font-family: 'Helvetica Neue', sans-serif; 
      background-color: #ffffff; 
      margin: 0; 
      padding: 0; 
      color: #333; 
      line-height: 1.6;
    }
    
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 2rem 1rem;
      text-align: center;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #e6e6e6;
    }
    
    .logo img {
      max-width: 180px;
      height: auto;
    }
    
    .header-text {
      margin-left: 1rem;
      font-size: 0.9rem;
      color: #666;
      border-left: 1px solid #e6e6e6;
      padding-left: 1rem;
    }
    
    .main-heading {
      font-size: 2rem;
      font-weight: bold;
      color: #333;
      margin-bottom: 2rem;
    }
    
    .quote-card {
      border: 2px solid #e6e6e6;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      text-align: left;
      position: relative;
      transition: border-color 0.2s;
    }
    
    .quote-card:hover {
      border-color: #3f6b5d;
    }
    
    .quote-card.top-rated {
      border-color: #4caf50;
      background-color: #f8fff8;
    }
    
    .badge {
      position: absolute;
      top: -10px;
      left: 20px;
      background-color: #4caf50;
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: bold;
    }
    
    .card-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .card-left {
      display: flex;
      align-items: center;
      flex: 1;
    }
    
    .card-logo {
      margin-right: 1rem;
    }
    
    .card-logo img {
      max-width: 80px;
      height: auto;
    }
    
    .card-info h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.2rem;
      color: #333;
    }
    
    .card-info p {
      margin: 0;
      font-size: 0.9rem;
      color: #666;
    }
    
    .card-button {
      background-color: #3f6b5d;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 25px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.2s;
      text-decoration: none;
      display: inline-block;
    }
    
    .card-button:hover {
      background-color: #2d4f43;
    }
    
    .card-button.secondary {
      background-color: #007bff;
    }
    
    .card-button.secondary:hover {
      background-color: #0056b3;
    }
    
    .fine-print {
      font-size: 0.75rem;
      color: #888;
      margin-top: 2rem;
      padding: 1rem;
      background-color: #f8f8f8;
      border-radius: 8px;
      line-height: 1.4;
    }
    
    @media (max-width: 480px) {
      .card-content {
        flex-direction: column;
        text-align: center;
      }
      
      .card-left {
        margin-bottom: 1rem;
      }
      
      .card-button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5SF9L94K"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="container">
  <div class="header">
    <div class="logo">
      <img src="/assets/logo.png" alt="SaveBest.org Logo">
    </div>
    <div class="header-text">
      Powered by SaveBest.org<br>
      Get personalized financial tools in 60 seconds
    </div>
  </div>

  <h1 class="main-heading">Before you go, check out these financial tools</h1>

  <div class="quote-card top-rated">
    <div class="badge">★ TOP RATED TOOL</div>
    <div class="card-content">
      <div class="card-left">
        <div class="card-logo">
          <img src="/assets/empower-logo.svg" alt="Empower Logo">
        </div>
        <div class="card-info">
          <h3>Empower Personal Dashboard</h3>
          <p>Free forever • Syncs all accounts • Professional insights</p>
        </div>
      </div>
      <a href="#" class="card-button" onclick="redirectToEmpower()">View My Dashboard</a>
    </div>
  </div>

  <div class="quote-card">
    <div class="card-content">
      <div class="card-left">
        <div class="card-logo">
          <img src="/assets/MonarchLogo.PNG" alt="Monarch Money Logo">
        </div>
        <div class="card-info">
          <h3>Monarch Money</h3>
          <p>All-in-one financial management • Beautiful interface • Expert insights</p>
        </div>
      </div>
      <a href="#" class="card-button secondary" onclick="redirectToMonarch()">View My Dashboard</a>
    </div>
  </div>

  <div class="fine-print">
    <strong>Disclosure:</strong> Most of the companies mentioned on this site compensate us in some way, whether an affiliate or direct relationship. This helps us keep our tools free. We only recommend products we genuinely believe will help you.
  </div>
</div>

<script>
  // User ID System
  function generateUserId() {
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    let result = '';
    for (let i = 0; i < 20; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return result;
  }
  
  function getOrCreateUserId() {
    let userId = localStorage.getItem('sabeid');
    if (!userId) {
      userId = generateUserId();
      localStorage.setItem('sabeid', userId);
    }
    return userId;
  }
  
  // Initialize user ID on page load
  document.addEventListener('DOMContentLoaded', function() {
    const userId = getOrCreateUserId();
    console.log('User ID:', userId);
    
    // Track exit page view
    if (typeof dataLayer !== 'undefined') {
      dataLayer.push({
        'event': 'page_view',
        'page_title': 'Exit Page - Financial Tools',
        'page_location': window.location.href,
        'user_id': userId
      });
    }
  });
  
  function getGclid() {
    // Check URL parameters first
    const urlParams = new URLSearchParams(window.location.search);
    let gclid = urlParams.get('gclid');
    
    // If not in URL, check cookies
    if (!gclid) {
      const cookies = document.cookie.split(';');
      for (let cookie of cookies) {
        const [name, value] = cookie.trim().split('=');
        if (name === 'gclid') {
          gclid = value;
          break;
        }
      }
    }
    
    return gclid || '';
  }

  function redirectToEmpower() {
    // Track the redirect event
    if (typeof dataLayer !== 'undefined') {
      dataLayer.push({
        'event': 'exit_page_click',
        'redirect_destination': 'empower',
        'user_id': getOrCreateUserId()
      });
    }
    
    // Get user ID and gclid
    const sabeid = getOrCreateUserId();
    const gclid = getGclid();
    
    // Build the URL with parameters
    const baseUrl = 'https://track.flexlinkspro.com/g.ashx?foid=156074.13439.1058727&trid=1368848.157618&foc=16&fot=9999&fos=6';
    const url = `${baseUrl}&fobs=${sabeid}&fobs2=${gclid}`;
    
    window.open(url, '_blank');
  }

  function redirectToMonarch() {
    // Track the redirect event
    if (typeof dataLayer !== 'undefined') {
      dataLayer.push({
        'event': 'exit_page_click',
        'redirect_destination': 'monarch',
        'user_id': getOrCreateUserId()
      });
    }
    
    // Get user ID and gclid
    const sabeid = getOrCreateUserId();
    const gclid = getGclid();
    
    // Build the URL with parameters for Monarch Money
    const baseUrl = 'https://www.monarchmoney.com/landing/affiliate-manage-finances';
    const url = `${baseUrl}?fobs=${sabeid}&fobs2=${gclid}`;
    
    window.open(url, '_blank');
  }
</script>

</body>
</html>
